{% extends "layout.html" %}

{% block title %} Admin {% endblock %}

{% block content %}

<div class="pt-5 mt-2 text-center">
  <h2 class="my-3"> Admin </h2>
</div>

<!-- Admin Tabs -->
<ul class="nav nav-tabs" id="admin-tabs" role="tablist">
  <li class="nav-item">
    <a class="nav-link active" id="bottles-tab" data-toggle="tab" href="#bottles-content" role="tab" aria-selected="true"> Manage Bottles </a>
  </li>
  <li class="nav-item">
    <a class="nav-link" id="menu-tab" data-toggle="tab" href="#menu-content" role="tab" aria-selected="false"> Manage Menu </a>
  </li>
  <li class="nav-item">
    <a class="nav-link" id="add-drink-tab" data-toggle="tab" href="#add-drink-content" role="tab" aria-selected="false"> Add Drink </a>
  </li>
</ul>

<div class="tab-content ml-4 mt-4 mr-4 mb-5" id="admin-content">

  <!-- Bottles -->
  <div class="tab-pane fade show active" id="bottles-content" role="tabpanel">

    <div id="bottles" class="list-group">
      {% for id, bottle in bottles.items(): %}

        <div class="list-group-item flex-column align-items-start">
          <span class="titles"><u> Bottle {{ loop.index }} </u></span>
          <form class="admin-form" action="/update-bottles/{{id}}" method="post">
            <label class="admin-label mt-2" for="name"> Content </label>
            <input type="text" name="name" value="{{ bottle['name'] }}">
            <label class="admin-label mt-3" for="size"> Size </label>
            <input type="text" name="size" value="{{ bottle['size'] }}">
            <label class="admin-label mt-3" for="ml"> mL </label>
            <input type="number" name="ml" value="{{ bottle['ml'] }}">
            <label class="admin-label mt-3" for="brand"> Brand </label>
            <input type="text" name="brand" value="{{ bottle['brand'] }}">
            <label class="admin-label mt-3" for="type"> Type </label>
            <select name="type" style="display: block">
              <option value="{{ bottle['type'] }}" selected> {{ bottle['type'] }} </option>
              {% if bottle['type'] == "mixer" %}
                <option value="alcohol"> alcohol </option>
              {% else %}
                <option value="mixer"> mixer </option>
              {% endif %}
            </select>
            <label class="admin-label mt-3" for="fill"> Fill % </label>
            <input type="text" name="fill" value="{{ bottle['estimated_fill'] }}">
            <input class="mt-3" type="submit" value="Save">
          </form>
        </div>
  
      {% endfor %}
    </div>
  </div>

  <!-- Menu -->
  <div class="tab-pane fade" id="menu-content" role="tabpanel">

    <div id="menu-items" class="list-group">
        {% for id, drink in drinks.items(): %}

          <div class="list-group-item flex-column align-items-start">
            <span class="titles"><u> Drink {{ loop.index }} </u></span>
            <form class="admin-form" action="/update-menu/{{id}}" method="post">
              <label class="mt-2" for="name"> Name: </label>
              <input type="text" name="name" value="{{ drink['name'] }}">
              <label class="mt-3" for="price"> Price: </label>
              <input type="number" name="price" value="{{ drink['price'] }}">
              <label class="mt-3" for="ingredients"> Description: </label>
              <input type="text" name="ingredients" value="{{ drink['ingredients'] }}">
              <label class="mt-3" for="image"> Image URL: </label>
              <input type="text" name="image" value="{{ drink['image'] }}">
              <input class="mt-3" type="submit" value="Save">
            </form>
          </div>

        {% endfor %}
    </div>
  </div>

    <!-- Add drink -->
  <div class="tab-pane fade show active" id="add-drink-content" role="tabpanel">
  
  </div>
  
</div>


{% endblock %}


{% block page_scripts %}

<script src="{{ url_for('static', filename='admin.js') }}"></script>

{% endblock %}
